
'use strict';

angular.module('schematicApp')
  .directive('dropDown', [

    function() {
    return {
      restrict: 'EA',
      replace:  true,
      transclude: 'true',
      scope: {
        label : '@'
      },
      template: '<div class="btn-group"><button type="button" class="btn btn-select" ng-class="btnClass || \'btn-primary\'"  disabled="true">{{label}}</button><button type="button" class="btn btn-down"ng-class="btnClass ? btnClass + \'dropdown-toggle\' : \'btn-primary dropdown-toggle\'"><i class="fa fa-caret-down"></i></button><div class="dropdown-menu dropdown-select dropdown-menu-right" ng-transclude></div>',
      link: function postLink(scope, element, attrs) {
        scope.show = false;
        scope.menu = element.find('div');
        scope.button = element.find('button');

        element.on('blur', function(){
          scope.show = false;
          scope.menu.css('display', 'none');
        });

        scope.button.on('click', function(){
          if(scope.show){
            scope.show = false;
            scope.menu.css('display', 'none');

          } else {
            scope.show = true;
            scope.menu.css('display', 'block');
          }
        });


      }
    };
 }]);
